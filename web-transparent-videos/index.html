<!doctype html><html lang=zh-tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>在網頁上展示酷炫的透明影片 - 勝勝</title><meta name=description content="你有看過透明影片嗎，有想過在網頁上放超酷的透明影片製造與眾不同的視覺效果嗎，這篇教學會一步一步教你如何將透明影片放在網頁上，並講述現有瀏覽器的限制。"><meta name=author content="勝勝"><link href=https://blog.gnehs.net/an-old-hope.min.css rel=stylesheet><link href=https://blog.gnehs.net/style.css rel=stylesheet><link href=https://blog.gnehs.net/custom.css rel=stylesheet><link rel=apple-touch-icon href=/favicon.png><link rel=icon href=/favicon.png><meta name=generator content="Hugo 0.81.0"><meta property="og:title" content="在網頁上展示酷炫的透明影片"><meta property="og:description" content="你有看過透明影片嗎，有想過在網頁上放超酷的透明影片製造與眾不同的視覺效果嗎，這篇教學會一步一步教你如何將透明影片放在網頁上，並講述現有瀏覽器的限制。"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.gnehs.net/web-transparent-videos/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-07T14:32:39+08:00"><meta property="article:modified_time" content="2022-04-07T14:32:39+08:00"><meta property="og:image" content="https://blog.gnehs.net/img/web-transparent-videos.png"><meta name=twitter:card content="summary_large_image"><script>function setTheme(){if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');return}const c=new Date,g=localStorage.getItem('date'),d=String(c.getMonth()+1)+'.'+String(c.getDate()),e=c.getTime();let a,b;function f(){if(e>a&&e<b)return;document.body.classList.add('dark')}d!==g?(fetch('https://api.ipgeolocation.io/astronomy?apiKey=5ed37d85103e4defa5df4c5298ed5215').then(a=>a.json()).then(c=>{a=c.sunrise.split(':').map(Number),b=c.sunset.split(':').map(Number)}).catch(()=>{a=[7,0],b=[19,0]}).finally(()=>{a=c.setHours(a[0],a[1],0),b=c.setHours(b[0],b[1],0),f(),localStorage.setItem('sunrise',a),localStorage.setItem('sunset',b)}),localStorage.setItem('date',d)):(a=Number(localStorage.getItem('sunrise')),b=Number(localStorage.getItem('sunset')),f())}</script></head><body class=single><script>setTheme()</script><header class=header><nav class=nav><p class=logo><a href=https://blog.gnehs.net>勝勝</a></p><ul class=menu><li><a href=/invite-codes/>邀請碼</a></li><li><a href=/categories/>分類</a></li><li><a href=/about/>關於</a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>在網頁上展示酷炫的透明影片</h1><div class=post-meta>勝勝 · 2022 年 04 月 07 日</div></header><div class=overtime-alert style=display:none>⚠️ 本篇文章距離撰寫時間已超過兩年，部分資訊可能已過時。</div><script>let modifiedTime=new Date(document.querySelector('meta[property="article:modified_time"]').getAttribute('content'));(new Date).getTime()-modifiedTime.getTime()>1e3*60*60*24*365*2&&(document.querySelector('.overtime-alert').style.display='block')</script><div class=post-content><p>你有看過透明影片嗎，有想過在網頁上放超酷的透明影片製造與眾不同的視覺效果嗎，這篇教學會一步一步教你如何將透明影片放在網頁上，並講述現有瀏覽器的限制。</p><h1 id=技術限制>技術限制</h1><p>現在幾乎各大瀏覽器像是 Firefox、Chrome 跟 Safari 都支援了，但 Safari 跟大家不一樣，所以你必須分別為 Safari 輸出另一種格式的影片。</p><h2 id=chrome>Chrome</h2><p>Chrome 在 v31 就支援了透明影片，但截至目前 v100 僅支援格式為 VP8 或 VP9 的 WebM 影片檔案。</p><ul><li><a href=https://developer.chrome.com/blog/alpha-transparency-in-chrome-video/>Alpha transparency in Chrome video</a></li></ul><h2 id=firefox>Firefox</h2><p>Firefox 我沒特別查，反正會動</p><h2 id=safari>Safari</h2><p>Safari 目前（Safari 15.4）僅支援格式為 HEVC 帶有 Alpha 圖層的 .mov 影片檔案，VP9 格式雖然支援，但是顯示不出透明效果，你可以在蘋果的網站上找到相關說明。</p><ul><li><a href=https://developer.apple.com/videos/play/wwdc2019/506/>HEVC Video with Alpha - WWDC19</a></li></ul><h1 id=影片製造>影片製造</h1><p>在這裡我先用 AE 輸出含有 Alpha 圖層的 QuickTime 格式檔案
<img src=/img/2022-04-07_17.14.02.png alt></p><h2 id=輸出-safari-格式hevc>輸出 Safari 格式（HEVC）</h2><p>Safari 的部分超級麻煩，反正蘋果就是專門來坑開發者的，不過 ffmpeg 目前似乎還不支援輸出透明的 HEVC，這邊用了 Compressor 示範。</p><p>雖然 AE 可以直接輸出透明的 mov 檔案，但輸出的 mov 檔案太大而且也沒辦法在 Safari 播放，所以你還是需要轉檔。
<img src=/img/2022-04-07_17.17.02.png alt>
<em>Compressor 的輸出設定值，別忘了勾上 Preserve alpha</em></p><p><img src=/img/2022-04-07_17.18.02.png alt>
<em>輸出後可以把影片直接丟進 Safari 看看有沒有變透明</em></p><h2 id=輸出-chrome-格式webm>輸出 Chrome 格式（WebM）</h2><p>這部分就簡單了些，你只需要安裝 <a href=https://github.com/fnordware/AdobeWebM>AdobeWebM</a> 就可以在 Adobe 軟體中直接輸出該格式。
<img src=/img/2022-04-07_16.50.53.jpg alt>
<em>Adobe Media Encoder 的輸出設定值，別忘了勾上 Include Alpha Channel</em></p><p>此外 <a href=https://handbrake.fr/downloads.php>Handbrake</a> 與 <a href=https://www.ffmpeg.org/download.html>ffmpeg</a> 也支援輸出該格式的影片。</p><h1 id=放到網頁上>放到網頁上</h1><p>使用下面的程式碼將影片放到網頁上，這樣就可以在網頁上播放了，這邊要特別注意，給 Safari 的影片要在最上面，不然他吃到 VP9 的影片魔法就會消失了。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>video</span> <span style=color:#a6e22e>autoplay</span> <span style=color:#a6e22e>loop</span> <span style=color:#a6e22e>muted</span> <span style=color:#a6e22e>playsinline</span>&gt;
  &lt;<span style=color:#f92672>source</span> 
    <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/path/to/video-hevc.mov&#34;</span> 
    <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#39;video/mp4; codecs=&#34;hvc1&#34;&#39;</span>&gt;
  &lt;<span style=color:#f92672>source</span> 
    <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/path/to/video-webm.webm&#34;</span> 
    <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;video/webm&#34;</span>&gt;
&lt;/<span style=color:#f92672>video</span>&gt;
</code></pre></div><h1 id=參考資料>參考資料</h1><ul><li><a href=https://kitcross.net/hevc-web-video-alpha-channel/>How to make HEVC, H265 and VP9 videos with an alpha channel for the web</a></li><li><a href=https://rotato.app/blog/transparent-videos-for-the-web>How to use transparent videos on the web in 2021</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.gnehs.net/tags/firefox>Firefox</a></li><li><a href=https://blog.gnehs.net/tags/chrome>Chrome</a></li></ul></footer><br><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-6834090314855499 data-ad-slot=2767030263></ins></article></main><footer class=footer><span>&copy; 2017-2025 <a href=https://gnehs.net/>勝勝</a>可愛</span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>️</span>
<span>&#183;</span>
<span>Theme️ <a href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>Paper</a></span></footer><script src=https://blog.gnehs.net/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-96NRMGGV7E"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-96NRMGGV7E')</script></body></html>